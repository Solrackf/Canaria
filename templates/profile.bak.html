{% extends 'baseingreso.html' %}


{% block head %}
<title>Perfil- {{current_user.firstname}}</title>
<script>
function showedit() {
  var x = document.getElementById("edit_info");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}

function showpass() {
  var x = document.getElementById("edit_pass");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
</script>
{% endblock %}

{% block body %}
<script>
var x=document.getElementById("edit_info");
x.style.display = "none";
</script>
<div class="container" align="center">
  <table>
    <tr valign="top">
      
        <td><img src='{{current_user.profile_pic}}' style="height: 110px;width: 100px;"></td>
        <td><h1>Usuario: {{ current_user.username }}</h1></td>
    </tr>
</table>
<hr>
    <h1>Nombre: {{current_user.firstname}} {{current_user.lastname}}</h1>
    {% if current_user.about_me != '' %}
    <h1>Sobre mi : {{current_user.about_me}}</h1>
    {% else %}
    <h1>Sobre mi : N/A</h1>
    {% endif %}
    <h1>Correo Electronico: {{current_user.email}}</h1>
    <h1>Género: {{current_user.gender}}</h1>
    <h1>ID usuario: {{current_user.id}}</h1>
    <button class="btn btn-info" onclick="showedit()">Editar perfil</button>
    <button class="btn btn-info" onclick="showpass()">Cambiar contraseña</button><br><br>
</div>

<div class="container" align="center" id="edit_info" style="display:none">
<form class="form-group" action="/profile/edit/{{current_user.id}}" method="POST" enctype="multipart/form-data">
Usuario: <input type="text" class="form-control" value={{current_user.username}} name="username"><br>
Nombre : <input type="text" class="form-control" value={{current_user.firstname}} name="firstname"><br>
Apellido : <input type="text" class="form-control" value={{current_user.lastname}} name="lastname"><br>
Correo electronico : <input type="email" class="form-control" value={{current_user.email}} name="email"><br>
Foto de perfil: <input type="file" class="form-control" name="profile_pic" value="{{current_user.profile_pic}}"><br>
Sobre mi: <input type="text" class="form-control" name="about_me" value="{{current_user.about_me}}"><br>
<input type="submit" value="Update Info" class="btn btn-success" >
</form>
</div>

<div class="container" align="center" id="edit_pass" style="display:none">
<form class="form-group" action="/profile/passchange/{{current_user.id}}" method="POST">
Contraseña antigua: <input type="password" class="form-control" name="pass1">
Nueva contraseña : <input type="password" class="form-control" name="pass2">
Confirmar nueva contraseña : <input type="password" class="form-control" name="pass3"><br>
<input type="submit" value="Update Password" class="btn btn-success" >
</form>
</div>
{% endblock %}